{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "prConcurrentLimit": 10,
  "dependencyDashboard": true,
  "labels": [
    "dependencies"
  ],
  "extends": [
    "config:recommended",
    "group:kubernetes",
    ":enablePreCommit",
    ":pinVersions"
  ],
  "flux": {
    "fileMatch": [
      "(?:^|/)gotk-components\\.ya?ml$",
      "(?:^|/)kubernetes(?:/.+)?/repository\\.ya?ml$",
      "(?:^|/)kubernetes(?:/.+)?/release\\.ya?ml$"
    ]
  },
  "kubernetes": {
    "fileMatch": [
      "(?:^|/)kubernetes(?:/.+)?/*\\.ya?ml$"
    ]
  },
  "regexManagers": [
    {
      "fileMatch": [
        "(?:^|/)kubernetes/infra/crds/kustomization\\.ya?ml$",
        "(?:^|/)terraform/cluster/modules/talos/templates/control_plane.yaml.tftpl$"
      ],
      "matchStrings": [
        "https://github\\.com/(?<depName>[^/]+/[^/]+)//[^?]+\\?ref=(?<currentValue>.*?)\\s",
        "https://raw\\.githubusercontent\\.com/(?<depName>[^/]+/[^/]+)/(?<currentValue>[^/]+)/"
      ],
      "datasourceTemplate": "github-releases",
      "versioningTemplate": "semver"
    }
  ],
  "terraform": {
    "fileMatch": [
      "\\.tf$"
    ]
  }
}
